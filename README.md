# phantompdfable`phantompdfable` is PORTING of pdfable plugin from http://mikehaertl.github.com/phpwkhtmltopdf/ to phantomjs tool for PDF generations`phantompdfable` is a [Yii](http://www.yiiframework.com) extension to create PDFs from webpages with [PhantomJsToPdf](https://github.com/lokendra3777/phantompdfable.git) (included).## Requirements`PDFable` requires the [phantomjs](http://code.google.com/p/phantomjs/) binary to beinstalled on your system.## InstallationDownload the package file and unzip it to the `extensions` directory. Note, that youmay want to rename the directory from `phantompdfable-x.y.z` to `phantompdfable`.## Example moduleTo try out the extension, you can configure the `phantompdfable` example module in your `main.php`:```php<?php    'modules'=>array(        'phantompdfable'=>array(            'class'=>'ext.phantompdfable.phantompdfable.PdfableModule',            // Optional: Set path to wkthmltopdf binary            //'bin' => '/usr/bin/phantomjs',        ),```The module should then be available from[http://localhost/index.php?r=phantompdfable/demo](http://localhost/index.php?r=phantompdfable/demo)or whatever you use as hostname. I recommend to have a look at this example module's code.## Basic configuration`PDFable` comes as a controller behavior which gets attached through `behaviors`:```php<?phpclass MyController extends Controller{    public function behaviors()    {        return array(            'phantompdfable'=>array(                'class' => 'ext.phantompdfable.Pdfable',            ),        );    }```## Basic use## Render View based pages to PDF::To render single page PDFs from a view file you just call `renderPdf()` insteadof `render()`. This will convert the view file to a PDF and display it inline inthe browser:```php    public function actionPdfDemo()    {        // Render this view as PDF and display inline in the browser:        $this->renderPdf('pdfDemo');    }```## Render URL based pages to PDF::To render single page PDFs from a view file you just call `renderPdf()` insteadof `render()`. This will convert the view file to a PDF and display it inline inthe browser:```php    public function actionURL2PdfDemo()    {        // Render this view as PDF and display inline in the browser:        $this->renderPdf('http://www.google.com');    }```Just as with render() you can of course also render more complex views withcustom data. And if you want to open a download dialog, you can also passthe download filename as 4th argument:```php<?php    public function actionInvoice($id)    {        $invoice=Invoice::model()->findByPk($id);        $this->renderPdf('invoice',array(            'invoice' => $invoice,        ), array(), 'invoice_'.$invoice->id.'.pdf');    }```The third parameter allows you to pass additional PDF page options to `phantomjs`.See advanced configuration below.## Advanced use### Multi-Page PDFsPDFs with more than one page (=view) are also possible. Here you woulduse the `createPdf()` method. It returns a `PdfFile` object.```php<?php    public function actionPortfolio($id)    {        $portfolio = Portfolio::model()->findByPk($id);        $pdf = $this->createPdf();        $pdf->renderPage('intro');        $pdf->renderPage('portfolio',array(            'portfolio' => $portfolio,        ));        $pdf->send('portfolio_'.$id.'.pdf');    }```### Use from console commandsYou can also create PDFs from console commands through the low-level `PdfFile` class.The following example is taken from the example module:```php    public function actionIndex($filename)    {        $pdf = new PdfFile;        // We have to set some paths ...        $pdf->baseViewPath  = Yii::getPathOfAlias('ext.phantompdfable.phantompdfable.views');        $pdf->layoutPath    = Yii::getPathOfAlias('ext.phantompdfable.phantompdfable.views.layouts');        $pdf->viewPath      = Yii::getPathOfAlias('ext.phantompdfable.phantompdfable.views.demo');        // ... and supply our custom CSS file        $pdf->setOptions(array(            'user-style-sheet'  => Yii::getPathOfAlias('ext.phantompdfable.phantompdfable.assets.css.pdf').'.css',        ));        $pdf->renderPage('invoice');        $pdf->renderPage('page1');        $pdf->renderPage('page2');        $pdf->saveAs($filename);    }```If you want to try the example command you can add it to the `commandMap` in your `console.php`:```php<?php    'commandMap' => array(        'demopdf' => array(            'class' => 'ext.phantompdfable.phantompdfable.commands.DemopdfCommand',        ),    ),```You then can create an example PDF with `./yiic demopdf --filename=/tmp/demo.pdf`.